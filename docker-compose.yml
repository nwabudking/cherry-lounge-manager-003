# Cherry POS - Supabase-Only Docker Compose
# This project uses Supabase exclusively for all backend services
# For self-hosted deployment, use docker/docker-compose.supabase.yml
#
# Quick Start:
#   cd docker && docker-compose -f docker-compose.supabase.yml up -d
#
# This file is kept for reference but the main deployment
# should use the Supabase-specific compose file.

version: '3.8'

services:
  # For production deployment, use docker/docker-compose.supabase.yml
  # which includes the full Supabase stack:
  # - PostgreSQL database
  # - Auth service (GoTrue)
  # - REST API (PostgREST)
  # - Realtime service
  # - Storage API
  # - Edge Functions (Deno)
  # - Kong API Gateway
  # - Supabase Studio

  app:
    build:
      context: .
      dockerfile: docker/Dockerfile.app
    container_name: cherry-pos-app
    restart: unless-stopped
    environment:
      - NODE_ENV=production
    ports:
      - "${APP_PORT:-3000}:80"
    # For offline deployment, connect to the self-hosted Supabase network
    # networks:
    #   - cherry-network

# networks:
#   cherry-network:
#     external: true
#     name: docker_cherry-network
